# ===================================================
# ğŸ‡¨ğŸ‡³ ğŸ‡»ğŸ‡³ ä¸­è¶ŠåŒå‘é€‚é…ãƒ»ç»ˆæè¯¦è§£ç‰ˆ
# ===================================================
# æ ¸å¿ƒåŠŸèƒ½ï¼š
# 1. æ™ºèƒ½åˆ†æµï¼šå›½å†…æµé‡ç›´è¿ï¼Œå›½å¤–æµé‡ä»£ç†ï¼Œè¶Šå—æœ¬åœ°æœåŠ¡ç‰¹æ®Šå¤„ç†ã€‚
# 2. è§„åˆ™åŠ é€Ÿï¼šä½¿ç”¨ CDN é“¾æ¥ï¼Œç¡®ä¿åœ¨å›½å†…/è¶Šå—ç½‘ç»œä¸‹éƒ½èƒ½ç§’æ›´è§„åˆ™ã€‚
# 3. åŒå›½é€‚ç”¨ï¼š
#    - åœ¨ä¸­å›½ï¼šè‡ªåŠ¨ä»£ç† Google/Zaloï¼Œç›´è¿æ·˜å®/å¾®ä¿¡ã€‚
#    - åœ¨è¶Šå—ï¼šè‡ªåŠ¨ä»£ç† Google (åŠ é€Ÿ)ï¼Œç›´è¿æ·˜å® (é€Ÿåº¦å¿«)ï¼ŒZalo/Grab èµ°æœ¬åœ°æˆ–ä»£ç†å¯é€‰ã€‚
# ===================================================

# --- åŸºç¡€è®¾ç½® ---
ipv6: false           # ã€æ¨èå…³é—­ã€‘é˜²æ­¢ IPv6 è·¯ç”±ç»•è·¯å¯¼è‡´ç½‘é€Ÿæ…¢ï¼Œä¹Ÿé˜²æ­¢ IPv6 æ³„éœ²çœŸå®ç‰©ç†ä½ç½®
allow-lan: true       # å…è®¸å±€åŸŸç½‘è®¾å¤‡ï¼ˆå¦‚æ‰‹æœºã€iPadï¼‰è¿æ¥æ­¤ç”µè„‘çš„ä»£ç†
mixed-port: 7890      # æ··åˆç«¯å£ï¼ˆHTTP/SOCKS5 éƒ½åœ¨è¿™ä¸€ä¸ªç«¯å£ï¼‰ï¼Œæ–¹ä¾¿é…ç½®
unified-delay: true   # ç»Ÿä¸€å»¶è¿Ÿè®¡ç®—æ–¹å¼ï¼Œå»é™¤æ¡æ‰‹æ—¶é—´ï¼Œæ˜¾ç¤ºçš„å»¶è¿Ÿæ›´çœŸå®
tcp-concurrent: true  # å¼€å¯ TCP å¹¶å‘ï¼Œè¿æ¥å»ºç«‹æ›´å¿«
external-controller: 127.0.0.1:9090 # dashboard ç®¡ç†é¢æ¿åœ°å€
keep-alive-interval: 15 # ã€é˜²æ–­è¿ã€‘æ¯15ç§’å‘é€å¿ƒè·³åŒ…ï¼Œé˜²æ­¢ Telegram/å¾®ä¿¡ ç­‰é•¿è¿æ¥åº”ç”¨æ¶ˆæ¯å»¶è¿Ÿ

# --- GEO æ•°æ®åº“è‡ªåŠ¨æ›´æ–° (ç²¾å‡†åˆ¤æ–­ IP å½’å±åœ°) ---
geodata-mode: true
geo-auto-update: true
geo-update-interval: 24 # æ¯24å°æ—¶æ›´æ–°ä¸€æ¬¡ IP åº“
geox-url:
  # ä½¿ç”¨ CDN åŠ é€Ÿä¸‹è½½ IP æ•°æ®åº“ï¼Œé˜²æ­¢å›½å†…æ›´æ–°å¤±è´¥
  geoip: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat
  geosite: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat
  mmdb: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.metadb

# --- è¿›ç¨‹åŒ¹é…æ¨¡å¼ ---
find-process-mode: strict
global-client-fingerprint: chrome # æ¨¡æ‹Ÿ Chrome æµè§ˆå™¨çš„æŒ‡çº¹ï¼Œé˜²æ­¢è¢«æŸäº›ç½‘ç«™è¯†åˆ«ä¸ºçˆ¬è™«

# ===================================================
# æ ¸å¿ƒï¼šDNS é…ç½® (å†³å®šäº†è®¿é—®é€Ÿåº¦å’Œæ˜¯å¦æ³„éœ²)
# ===================================================
dns:
  enable: true
  listen: 0.0.0.0:1053  # DNS ç›‘å¬ç«¯å£
  ipv6: false           # DNS å±‚é¢ä¹Ÿç¦ç”¨ IPv6
  
  # é»˜è®¤ DNS (å½“æ²¡æœ‰ä»»ä½•è§„åˆ™åŒ¹é…æ—¶ä½¿ç”¨)
  default-nameserver:
    - 223.5.5.5       # é˜¿é‡Œ DNS
    - 119.29.29.29    # è…¾è®¯ DNS
    - 1.1.1.1         # Cloudflare (å›½å¤–å¤‡ç”¨)
    - 8.8.8.8         # Google (å›½å¤–å¤‡ç”¨)
  
  enhanced-mode: fake-ip  # ã€å…³é”®ã€‘Fake-IP æ¨¡å¼ï¼Œæå¤§æå‡åŠ è½½é€Ÿåº¦ï¼Œè§£å†³ DNS æ±¡æŸ“
  fake-ip-range: 198.18.0.1/16
  use-hosts: true
  
  # Fake-IP è¿‡æ»¤åˆ—è¡¨ (è¿™äº›åŸŸåå¿…é¡»è§£æçœŸå® IPï¼Œå¦åˆ™æ— æ³•è”ç½‘æˆ–æŠ¥é”™)
  fake-ip-filter:
    - +.lan
    - +.local
    - +.msftconnecttest.com # Windows ç½‘ç»œè¿æ¥æ¢æµ‹
    - +.msftncsi.com
    - localhost.ptlogin2.qq.com # QQ ç™»å½•ç›¸å…³
    - localhost.sec.qq.com
    - +.in-addr.arpa
    - +.ip6.arpa
    - time.*.com      # æ—¶é—´åŒæ­¥æœåŠ¡å™¨
    - ntp.*.com
    - +.market.xiaomi.com
    - time.*.gov
    - pool.ntp.org
    - localhost.work.weixin.qq.com # ä¼ä¸šå¾®ä¿¡æœ¬åœ°æœåŠ¡
    - +.gov.vn        # ã€è¶Šå—ä¸“å±ã€‘é˜²æ­¢è¶Šå—æ”¿åºœç½‘ç«™ DNS è§£æé—®é¢˜

  # ã€æ ¸å¿ƒé€»è¾‘ã€‘DNS åˆ†æµç­–ç•¥
  # ä½œç”¨ï¼šå›½å†…åŸŸåèµ°å›½å†… DNSï¼Œå›½å¤–åŸŸåèµ°ä»£ç† DNSã€‚
  # æ•ˆæœï¼šåœ¨ä¸­å›½è®¿é—®æ·˜å®æå¿«ï¼›åœ¨è¶Šå—è®¿é—®æ·˜å®ï¼Œä¹Ÿä¼šè§£æåˆ°æœ€è¿‘çš„ CDN èŠ‚ç‚¹ï¼ŒåŒæ ·å¿«ã€‚
  nameserver-policy:
    "geosite:private,cn":  # åŒ¹é…åˆ°å›½å†…åŸŸå
      - https://223.5.5.5/dns-query  # å¼ºåˆ¶èµ°é˜¿é‡Œ DoH
      - https://doh.pub/dns-query    # å¼ºåˆ¶èµ°è…¾è®¯ DoH
  
  # å›½å¤–åŸŸåä½¿ç”¨çš„ DNS (é€šè¿‡ä»£ç†èŠ‚ç‚¹å»è¯·æ±‚)
  nameserver:
    - https://1.1.1.1/dns-query
    - https://8.8.8.8/dns-query
  
  # æ•…éšœå›é€€ DNS (å½“ä¸Šé¢çš„éƒ½æŒ‚äº†æ—¶ä½¿ç”¨)
  fallback:
    - https://208.67.222.222/dns-query
    - https://1.0.0.1/dns-query
  fallback-filter:
    geoip: true
    ipcidr:
      - 240.0.0.0/4
  
  respect-rules: true # éµå¾ªè§„åˆ™åˆ—è¡¨çš„åˆ†æµç»“æœ

  # ä»£ç†èŠ‚ç‚¹æœ¬èº«çš„åŸŸåè§£æ (é˜²æ­¢èŠ‚ç‚¹åŸŸåè¢«æ±¡æŸ“å¯¼è‡´è¿ä¸ä¸Š)
  proxy-server-nameserver:
    - https://223.5.5.5/dns-query
    - https://doh.pub/dns-query

# ===================================================
# å—…æ¢é…ç½® (è§£å†³ DNS æ±¡æŸ“å’Œç²¾å‡†åˆ†æµ)
# ===================================================
sniffer:
  enable: true
  parse-pure-ip: true   # å³ä½¿åº”ç”¨åªè¯·æ±‚ IPï¼Œä¹Ÿå°è¯•åæŸ¥åŸŸåè¿›è¡Œåˆ†æµ
  force-dns-mapping: true
  override-destination: false
  
  # å—…æ¢åè®®
  sniff:
    HTTP:
      ports: [80, 8080]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  
  # è·³è¿‡å—…æ¢çš„åŸŸå (é˜²æ­¢è‹¹æœæ¨é€å»¶è¿Ÿ)
  skip-domain:
    - "Mijia Cloud"
    - "+.push.apple.com"
  
  # ã€å…³é”®ã€‘è·³è¿‡å—…æ¢çš„ IP æ®µ (ä¸»è¦æ˜¯ Telegram)
  # ä½œç”¨ï¼šé˜²æ­¢ Clash å¼ºè¡Œå—…æ¢ TG çš„åŠ å¯†æµé‡ï¼Œå¯¼è‡´ TG æ¶ˆæ¯è½¬åœˆã€å¡é¡¿ã€å›¾ç‰‡åŠ è½½æ…¢ã€‚
  skip-dst-address:
    - 91.108.4.0/22
    - 91.108.8.0/21
    - 91.108.16.0/21
    - 91.108.56.0/22
    - 149.154.160.0/20
    - 149.154.164.0/22

# --- TUN æ¨¡å¼ (è™šæ‹Ÿç½‘å¡ï¼Œæ¥ç®¡æ‰€æœ‰ç³»ç»Ÿæµé‡) ---
tun:
  enable: true
  stack: mixed  # æ··åˆæ¨¡å¼ï¼Œå…¼å®¹æ€§æœ€å¥½
  mtu: 1500
  dns-hijack:
    - any:53    # åŠ«æŒæ‰€æœ‰ DNS è¯·æ±‚ï¼Œé˜²æ­¢æ³„éœ²
  auto-route: true  # è‡ªåŠ¨é…ç½®è·¯ç”±è¡¨
  auto-detect-interface: true # è‡ªåŠ¨æ£€æµ‹å‡ºå£ç½‘å¡

# ===================================================
# ä»£ç†ç»„é…ç½® (ç­–ç•¥ç»„)
# ===================================================
proxy-groups:
  # 1. ã€ä¸»èŠ‚ç‚¹é€‰æ‹©ã€‘
  # é»˜è®¤ä¼˜é€‰æ–°åŠ å¡ (SG)ï¼Œç‰©ç†è·ç¦»è¶Šå—è¿‘ï¼Œå»¶è¿Ÿä½ï¼Œä¸”å¤§éƒ¨åˆ†æœåŠ¡ä¸é™åŒºã€‚
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    interval: 300
    timeout: 3000
    max-failed-times: 3
    lazy: true
    proxies:
      - SG AUTO
      - SG
      - HK AUTO
      - HK
      - VN AUTO
      - VN
      - TW AUTO
      - TW
      - JP AUTO
      - JP
      - US AUTO
      - US
      - æ•…éšœè½¬ç§»
      - å…¨å±€ç›´è¿
      - å†·é—¨
    url: https://www.gstatic.com/generate_204
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/adjust.svg

  # 2. è‡ªåŠ¨æ•…éšœè½¬ç§» (ç»™å…¶ä»–ç­–ç•¥ç»„åšå«åº•ï¼Œé˜²æ­¢æ–­ç½‘)
  - name: æ•…éšœè½¬ç§»
    type: fallback
    interval: 300
    timeout: 3000
    max-failed-times: 3
    lazy: false
    include-all: true
    filter: "^(?!.*(å®˜ç½‘|å¥—é¤|æµé‡|å¼‚å¸¸|å‰©ä½™|é—®é¢˜|è¯ä¹¦)).*$" # è¿‡æ»¤æ‰æ— æ•ˆèŠ‚ç‚¹
    url: https://www.gstatic.com/generate_204
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/ambulance.svg

  # 3. ã€è¶Šå—æœåŠ¡ä¸“å±ç»„ã€‘ (Zalo, Grab, è¶Šå—é“¶è¡Œ, Shopee VN)
  # ç­–ç•¥ï¼šé»˜è®¤ VN (è¶Šå—èŠ‚ç‚¹)ã€‚
  # åœºæ™¯A (åœ¨ä¸­å›½)ï¼šå¿…é¡»èµ° VN èŠ‚ç‚¹ï¼Œå¦åˆ™ Zalo ç™»ä¸ä¸Šï¼ŒGrab æ— æ³•éªŒè¯ã€‚
  # åœºæ™¯B (åœ¨è¶Šå—)ï¼šé»˜è®¤èµ° VN èŠ‚ç‚¹ (åŠ é€Ÿ)ã€‚å¦‚æœé‡åˆ°é“¶è¡Œ App æŸ¥ IP å¯¼è‡´å°å·ï¼Œ
  #                æ‰‹åŠ¨åˆ‡æ¢æ­¤ç»„åˆ° -> [å…¨å±€ç›´è¿] å³å¯ï¼Œæ— éœ€æ”¹ä»£ç ã€‚
  - name: ğŸ‡»ğŸ‡³ è¶Šå—æœåŠ¡
    type: select
    interval: 300
    timeout: 3000
    max-failed-times: 3
    lazy: true
    proxies:
      - VN AUTO
      - VN
      - å…¨å±€ç›´è¿         # ğŸ‘ˆ åœ¨è¶Šå—æœ¬åœ°éœ€è¦çœŸå® IP æ—¶ç‚¹è¿™ä¸ª
      - SG AUTO          # æ–°åŠ å¡æ˜¯è¶Šå—çš„æœ€ä½³å¤‡é€‰
      - SG
      - HK AUTO
      - HK
      - æ•…éšœè½¬ç§»
      - TW AUTO
      - TW
      - JP AUTO
      - JP
      - US AUTO
      - US
      - å†·é—¨
    url: https://www.gstatic.com/generate_204
    icon: https://cdn1.iconfinder.com/data/icons/logos-brands-in-colors/2500/zalo-seeklogo.com-512.png

  # 4. æ¼ç½‘ä¹‹é±¼ (å…œåº•ç­–ç•¥)
  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    interval: 300
    timeout: 3000
    max-failed-times: 3
    lazy: true
    proxies:
      - SG AUTO
      - HK AUTO
      - TW AUTO
      - US AUTO
      - JP AUTO
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - æ•…éšœè½¬ç§»
      - å…¨å±€ç›´è¿

  # 5. TikTok (éœ€è¦è§£é”ç‰¹å®šåœ°åŒº)
  - name: ğŸµ TikTok
    type: select
    interval: 300
    timeout: 3000
    max-failed-times: 3
    lazy: true
    proxies:
      - SG AUTO
      - SG
      - VN AUTO
      - VN
      - æ•…éšœè½¬ç§»
      - å…¨å±€ç›´è¿
      - TW AUTO
      - TW
      - JP AUTO
      - US AUTO
      - å†·é—¨
    icon: https://cdn4.iconfinder.com/data/icons/logos-brands-in-colors/2840/tiktok-logo-256.png

  # 6. Telegram (æ¶ˆæ¯ä¼˜å…ˆï¼Œé¦–é€‰ SG/HK)
  - name: ğŸ“² ç”µæŠ¥æ¶ˆæ¯
    type: select
    interval: 300
    timeout: 3000
    max-failed-times: 3
    lazy: true
    proxies:
      - SG AUTO
      - SG
      - HK AUTO
      - HK
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - æ•…éšœè½¬ç§»
      - TW AUTO
      - VN AUTO
      - JP AUTO
      - US AUTO
      - å…¨å±€ç›´è¿
      - å†·é—¨
    icon: https://cdn3.iconfinder.com/data/icons/3d-social-media-pack/256/Telegram.png

  # 7. Steam (èŠ‚çœæµé‡ï¼Œé»˜è®¤ç›´è¿)
  - name: ğŸ® Steam
    type: select
    interval: 300
    timeout: 3000
    max-failed-times: 3
    lazy: true
    proxies:
      - å…¨å±€ç›´è¿
      - æ•…éšœè½¬ç§»
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - SG AUTO
      - SG
      - HK AUTO
      - HK
      - TW AUTO
      - VN AUTO
      - JP AUTO
      - US AUTO
      - å†·é—¨
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/steam.svg

  # 8. Epic (èŠ‚çœæµé‡ï¼Œé»˜è®¤ç›´è¿)
  - name: ğŸ® Epic
    type: select
    interval: 300
    timeout: 3000
    max-failed-times: 3
    lazy: true
    proxies:
      - å…¨å±€ç›´è¿
      - æ•…éšœè½¬ç§»
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - SG AUTO
      - SG
      - HK AUTO
      - HK
      - TW AUTO
      - VN AUTO
      - JP AUTO
      - US AUTO
      - å†·é—¨
    icon: https://img.icons8.com/?size=100&id=gItgZriuEvjv&format=png&color=000000

  # 9. AI å·¥å…· (éœ€è¦ç¾å›½èŠ‚ç‚¹ä»¥é˜²å°å·/é”åŒº)
  - name: ğŸ¤– äººå·¥æ™ºèƒ½
    type: select
    interval: 300
    timeout: 3000
    max-failed-times: 3
    lazy: true
    proxies:
      - US AUTO       # ä¼˜å…ˆç¾å›½
      - US
      - SG AUTO
      - SG
      - JP AUTO
      - TW AUTO
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - æ•…éšœè½¬ç§»
      - HK AUTO
      - VN AUTO
      - å…¨å±€ç›´è¿
      - å†·é—¨
    filter: "(?i)chatgpt|claude|gemini|grok"
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/chatgpt.svg

  # 10. è°·æ­ŒæœåŠ¡ (US ä¼˜å…ˆï¼Œå‡å°‘éªŒè¯ç )
  - name: ğŸ” è°·æ­ŒæœåŠ¡
    type: select
    interval: 300
    timeout: 3000
    max-failed-times: 3
    lazy: true
    proxies:
      - US AUTO
      - US
      - HK AUTO
      - HK
      - SG AUTO
      - SG
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - æ•…éšœè½¬ç§»
      - TW AUTO
      - JP AUTO
      - VN AUTO
      - å…¨å±€ç›´è¿
      - å†·é—¨
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/google.svg

  # 11. å¾®è½¯æœåŠ¡ (é»˜è®¤ç›´è¿ï¼ŒOfficeä¸‹è½½ä¸è·‘ä»£ç†æµé‡)
  - name: â“‚ï¸ å¾®è½¯æœåŠ¡
    type: select
    interval: 300
    timeout: 3000
    max-failed-times: 3
    lazy: true
    proxies:
      - å…¨å±€ç›´è¿
      - æ•…éšœè½¬ç§»
      - SG AUTO
      - SG
      - HK AUTO
      - HK
      - US AUTO
      - US
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - TW AUTO
      - JP AUTO
      - VN AUTO
      - å†·é—¨
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/microsoft.svg

  # 12. è‹¹æœæœåŠ¡ (é»˜è®¤ç›´è¿ï¼ŒAppStoreä¸‹è½½ä¸è·‘ä»£ç†æµé‡)
  - name: ğŸ è‹¹æœæœåŠ¡
    type: select
    interval: 300
    timeout: 3000
    max-failed-times: 3
    lazy: true
    proxies:
      - å…¨å±€ç›´è¿
      - æ•…éšœè½¬ç§»
      - SG AUTO
      - SG
      - HK AUTO
      - HK
      - US AUTO
      - US
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - TW AUTO
      - JP AUTO
      - VN AUTO
      - å†·é—¨
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/apple.svg

  # --- ä»¥ä¸‹ä¸ºè‡ªåŠ¨åœ°åŒºåˆ†ç»„ (æ­£åˆ™åŒ¹é…èŠ‚ç‚¹åç§°) ---
  - name: HK
    type: select
    include-all: true
    filter: "(?i)é¦™æ¸¯|Hong Kong|HK|ğŸ‡­ğŸ‡°"
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/flags/hk.svg

  - name: HK AUTO
    type: url-test
    interval: 300
    timeout: 3000
    max-failed-times: 3
    lazy: false
    include-all: true
    filter: "(?i)é¦™æ¸¯|Hong Kong|HK|ğŸ‡­ğŸ‡°"
    url: https://www.gstatic.com/generate_204
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/flags/hk.svg

  - name: TW
    type: select
    include-all: true
    filter: "(?i)å°|tw|TW"
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/flags/tw.svg

  - name: TW AUTO
    type: url-test
    interval: 300
    timeout: 3000
    max-failed-times: 3
    lazy: false
    include-all: true
    filter: "(?i)å°|tw|TW"
    url: https://www.gstatic.com/generate_204
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/flags/tw.svg

  - name: SG
    type: select
    include-all: true
    filter: "(?i)æ–°åŠ å¡|Singapore|ğŸ‡¸ğŸ‡¬"
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/flags/sg.svg

  - name: SG AUTO
    type: url-test
    interval: 300
    timeout: 3000
    max-failed-times: 3
    lazy: false
    include-all: true
    filter: "(?i)æ–°åŠ å¡|Singapore|ğŸ‡¸ğŸ‡¬"
    url: https://www.gstatic.com/generate_204
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/flags/sg.svg

  - name: VN
    type: select
    include-all: true
    filter: "(?i)è¶Šå—|vietnam|VN|vn"
    icon: https://www.zhaoguoqi.com/upload/202302/224/Medium_png_20230210040006_31995_0_300x200.png

  - name: VN AUTO
    type: url-test
    interval: 300
    timeout: 3000
    max-failed-times: 3
    lazy: false
    include-all: true
    filter: "(?i)è¶Šå—|vietnam|VN|vn"
    url: https://www.gstatic.com/generate_204
    icon: https://www.zhaoguoqi.com/upload/202302/224/Medium_png_20230210040006_31995_0_300x200.png

  - name: JP
    type: select
    include-all: true
    filter: "(?i)æ—¥æœ¬|Japan|ğŸ‡¯ğŸ‡µ"
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/flags/jp.svg

  - name: JP AUTO
    type: url-test
    interval: 300
    timeout: 3000
    max-failed-times: 3
    lazy: false
    include-all: true
    filter: "(?i)æ—¥æœ¬|Japan|ğŸ‡¯ğŸ‡µ"
    url: https://www.gstatic.com/generate_204
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/flags/jp.svg

  - name: US
    type: select
    include-all: true
    filter: "(?i)ç¾å›½|USA|ğŸ‡ºğŸ‡¸"
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/flags/us.svg

  - name: US AUTO
    type: url-test
    interval: 300
    timeout: 3000
    max-failed-times: 3
    lazy: false
    include-all: true
    filter: "(?i)ç¾å›½|USA|ğŸ‡ºğŸ‡¸"
    url: https://www.gstatic.com/generate_204
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/flags/us.svg

  - name: å†·é—¨
    type: select
    include-all: true
    filter: "^(?!.*(å®˜ç½‘|å¥—é¤|æµé‡|å¼‚å¸¸|å‰©ä½™|é—®é¢˜|è¯ä¹¦|ç¾å›½|US|é¦™æ¸¯|HK|HongKong|å°æ¹¾|TW|æ–°åŠ å¡|singapore|SG|æ—¥æœ¬|JP|Japan|è¶Šå—|VN|vietnam)).*$"

  - name: å¹¿å‘Šè¿‡æ»¤
    type: select
    proxies:
      - REJECT
      - DIRECT
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/bug.svg

  - name: å…¨å±€ç›´è¿
    type: select
    proxies:
      - DIRECT
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/link.svg

  - name: å…¨å±€æ‹¦æˆª
    type: select
    proxies:
      - REJECT
      - DIRECT
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/block.svg

# ===================================================
# è§„åˆ™åŒ¹é… (ä»ä¸Šåˆ°ä¸‹æ‰§è¡Œï¼Œå‘½ä¸­å³åœæ­¢)
# ===================================================
rules:
  # --- 0. åŸºç¡€ç½‘ç»œä¼˜åŒ–è§„åˆ™ ---
  # NTP æ—¶é—´åŒæ­¥èµ°ç›´è¿ (é˜²æ­¢ Fake-IP å¯¼è‡´æ—¶é—´æ— æ³•æ ¡å‡†)
  - DST-PORT,123,å…¨å±€ç›´è¿
  # ã€é˜»æ–­ QUICã€‘é˜²æ­¢ Youtube/Google èµ° UDP åè®®å¯¼è‡´åœ¨è¶Šå—ç½‘ç»œä¸‹å¡é¡¿/æ–­æµ
  - AND,((NETWORK,UDP),(DST-PORT,443),(GEOSITE,youtube|google)),REJECT

  # --- 1. ğŸ‡»ğŸ‡³ è¶Šå—ä¸“å±æœåŠ¡ (åˆ†æµåˆ°è¶Šå—ç»„) ---
  # åŒ…å« Zalo, Zalopay, Grab, Shopee VN, ä»¥åŠä¸»æµè¶Šå—é“¶è¡Œ
  - PROCESS-NAME,com.zing.zalo,ğŸ‡»ğŸ‡³ è¶Šå—æœåŠ¡
  - PROCESS-NAME,vn.com.vng.zalopay,ğŸ‡»ğŸ‡³ è¶Šå—æœåŠ¡
  - PROCESS-NAME,com.grabtaxi.passenger,ğŸ‡»ğŸ‡³ è¶Šå—æœåŠ¡
  - PROCESS-NAME,com.shopee.vn,ğŸ‡»ğŸ‡³ è¶Šå—æœåŠ¡
  - DOMAIN-SUFFIX,zalo.me,ğŸ‡»ğŸ‡³ è¶Šå—æœåŠ¡
  - DOMAIN-SUFFIX,zing.vn,ğŸ‡»ğŸ‡³ è¶Šå—æœåŠ¡
  - DOMAIN-KEYWORD,momo.vn,ğŸ‡»ğŸ‡³ è¶Šå—æœåŠ¡
  - DOMAIN-KEYWORD,zalopay,ğŸ‡»ğŸ‡³ è¶Šå—æœåŠ¡
  - DOMAIN-KEYWORD,vietcombank,ğŸ‡»ğŸ‡³ è¶Šå—æœåŠ¡
  - DOMAIN-KEYWORD,tpbank,ğŸ‡»ğŸ‡³ è¶Šå—æœåŠ¡
  - DOMAIN-KEYWORD,techcombank,ğŸ‡»ğŸ‡³ è¶Šå—æœåŠ¡
  - DOMAIN-SUFFIX,gov.vn,ğŸ‡»ğŸ‡³ è¶Šå—æœåŠ¡

  # --- 2. æ¸¸æˆ/åº”ç”¨è¿›ç¨‹ç²¾ç¡®åŒ¹é… ---
  # Steam/Epic èµ°å„è‡ªçš„ç­–ç•¥ç»„ (é»˜è®¤ç›´è¿)
  - PROCESS-NAME,com.valvesoftware.android.steam.community,ğŸ® Steam
  - DOMAIN-KEYWORD,steam,ğŸ® Steam
  - PROCESS-NAME,com.epicgames.portal,ğŸ® Epic
  - DOMAIN-KEYWORD,epic,ğŸ® Epic
  - DOMAIN-SUFFIX,unrealengine.com,ğŸ® Epic
  - DOMAIN-SUFFIX,helpshift.com,ğŸ® Epic
  - DOMAIN-SUFFIX,eos-v2.org,ğŸ® Epic
  # Google å…¨å®¶æ¡¶ -> è°·æ­ŒæœåŠ¡
  - PROCESS-NAME,com.android.vending,ğŸ” è°·æ­ŒæœåŠ¡
  - PROCESS-NAME,com.google.android.apps.maps,ğŸ” è°·æ­ŒæœåŠ¡
  - PROCESS-NAME,com.google.android.gm,ğŸ” è°·æ­ŒæœåŠ¡
  - PROCESS-NAME,com.google.android.googlequicksearchbox,ğŸ” è°·æ­ŒæœåŠ¡
  - PROCESS-NAME,com.google.android.gms,ğŸ” è°·æ­ŒæœåŠ¡
  - PROCESS-NAME,com.google.android.gsf,ğŸ” è°·æ­ŒæœåŠ¡
  - PROCESS-NAME,com.google.android.tts,ğŸ” è°·æ­ŒæœåŠ¡
  - PROCESS-NAME,com.google.android.youtube,ğŸ” è°·æ­ŒæœåŠ¡
  - PROCESS-NAME,com.google.android.apps.docs,ğŸ” è°·æ­ŒæœåŠ¡
  - PROCESS-NAME,com.google.android.apps.translate,ğŸ” è°·æ­ŒæœåŠ¡
  # AI å·¥å…· -> äººå·¥æ™ºèƒ½
  - PROCESS-NAME,com.openai.chatgpt,ğŸ¤– äººå·¥æ™ºèƒ½
  - PROCESS-NAME,com.google.android.apps.bard,ğŸ¤– äººå·¥æ™ºèƒ½
  - PROCESS-NAME,ai.x.grok,ğŸ¤– äººå·¥æ™ºèƒ½
  # æŠ–éŸ³å›½é™…ç‰ˆ -> TikTok
  - PROCESS-NAME,com.ss.android.ugc.trill,ğŸµ TikTok
  - PROCESS-NAME,com.zhiliaoapp.musically,ğŸµ TikTok
  - PROCESS-NAME,com.rezvorck.tiktokplugin,ğŸµ TikTok
  # ç”µæŠ¥ -> ç”µæŠ¥æ¶ˆæ¯
  - PROCESS-NAME,org.telegram.group,ğŸ“² ç”µæŠ¥æ¶ˆæ¯
  
  # --- 3. å…³é”®è¯/åŸŸååŒ¹é… ---
  - DOMAIN-KEYWORD,tiktok,ğŸµ TikTok
  - DOMAIN-KEYWORD,gemini,ğŸ¤– äººå·¥æ™ºèƒ½
  - DOMAIN-KEYWORD,google,ğŸ” è°·æ­ŒæœåŠ¡
  - DOMAIN-SUFFIX,google.com,ğŸ” è°·æ­ŒæœåŠ¡
  - DOMAIN-SUFFIX,googleapis.cn,ğŸ” è°·æ­ŒæœåŠ¡
  - DOMAIN-SUFFIX,gstatic.com,ğŸ” è°·æ­ŒæœåŠ¡
  - DOMAIN-SUFFIX,xn--ngstr-lra8j.com,ğŸ” è°·æ­ŒæœåŠ¡
  - DOMAIN-SUFFIX,github.io,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN,v2rayse.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  
  # --- 4. è§„åˆ™é›†åŒ¹é… (å¤§æ•°æ®åˆ—è¡¨) ---
  - RULE-SET,private,å…¨å±€ç›´è¿      # ç§æœ‰ç½‘ç»œ/å±€åŸŸç½‘ -> ç›´è¿
  - RULE-SET,reject,å¹¿å‘Šè¿‡æ»¤       # å¹¿å‘ŠåŸŸå -> æ‹¦æˆª
  - RULE-SET,icloud,ğŸ è‹¹æœæœåŠ¡    # iCloud -> è‹¹æœæœåŠ¡
  - RULE-SET,apple,ğŸ è‹¹æœæœåŠ¡     # è‹¹æœå…¶ä»– -> è‹¹æœæœåŠ¡
  - RULE-SET,AI,ğŸ¤– äººå·¥æ™ºèƒ½        # å„ç§ AI -> äººå·¥æ™ºèƒ½
  - RULE-SET,google,ğŸ” è°·æ­ŒæœåŠ¡    # è°·æ­Œåˆ—è¡¨ -> è°·æ­ŒæœåŠ¡
  - RULE-SET,YouTube,ğŸ” è°·æ­ŒæœåŠ¡   # YouTube -> è°·æ­ŒæœåŠ¡
  - RULE-SET,Netflix,ğŸš€ èŠ‚ç‚¹é€‰æ‹©   # å¥ˆé£ -> èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,Spotify,ğŸš€ èŠ‚ç‚¹é€‰æ‹©   # Spotify -> èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,proxy,ğŸš€ èŠ‚ç‚¹é€‰æ‹©     # å¸¸è§ä»£ç†åˆ—è¡¨ -> èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,gfw,ğŸš€ èŠ‚ç‚¹é€‰æ‹©       # å¢™å†…è¢«å°åˆ—è¡¨ -> èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,tld-not-cn,ğŸš€ èŠ‚ç‚¹é€‰æ‹© # éCNåŸŸå -> èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,direct,å…¨å±€ç›´è¿       # å¸¸è§ç›´è¿åˆ—è¡¨ -> ç›´è¿
  - RULE-SET,lancidr,å…¨å±€ç›´è¿,no-resolve # å±€åŸŸç½‘IP -> ç›´è¿
  - RULE-SET,cncidr,å…¨å±€ç›´è¿,no-resolve  # ä¸­å›½å¤§é™†IP -> ç›´è¿
  - RULE-SET,telegramcidr,ğŸ“² ç”µæŠ¥æ¶ˆæ¯,no-resolve # ç”µæŠ¥IP -> ç”µæŠ¥æ¶ˆæ¯
  - GEOSITE,CN,å…¨å±€ç›´è¿            # ä¸­å›½ç«™ç‚¹ -> ç›´è¿
  - GEOIP,LAN,å…¨å±€ç›´è¿,no-resolve  # å±€åŸŸç½‘IP -> ç›´è¿
  - GEOIP,CN,å…¨å±€ç›´è¿,no-resolve   # ä¸­å›½IP -> ç›´è¿
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼              # æ²¡åŒ¹é…åˆ°çš„ -> èµ°æ¼ç½‘ä¹‹é±¼

# ===================================================
# è§„åˆ™é›†æä¾›è€… (Remote Rules)
# ===================================================
# å…¨éƒ¨ä½¿ç”¨äº† jsdelivr CDN åŠ é€Ÿé“¾æ¥ã€‚
# è§£å†³äº† GitHub åŸç”Ÿé“¾æ¥åœ¨å›½å†…/è¶Šå—ä¸‹è½½æ…¢ã€æ›´æ–°å¤±è´¥çš„é—®é¢˜ã€‚
rule-providers:
  reject:
    type: http
    format: yaml
    interval: 86400
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt
    path: ./ruleset/loyalsoldier/reject.yaml
  icloud:
    type: http
    format: yaml
    interval: 86400
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/icloud.txt
    path: ./ruleset/loyalsoldier/icloud.yaml
  apple:
    type: http
    format: yaml
    interval: 86400
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/apple.txt
    path: ./ruleset/loyalsoldier/apple.yaml
  google:
    type: http
    format: yaml
    interval: 86400
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/google.txt
    path: ./ruleset/loyalsoldier/google.yaml
  proxy:
    type: http
    format: yaml
    interval: 86400
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/proxy.txt
    path: ./ruleset/loyalsoldier/proxy.yaml
  direct:
    type: http
    format: yaml
    interval: 86400
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/direct.txt
    path: ./ruleset/loyalsoldier/direct.yaml
  private:
    type: http
    format: yaml
    interval: 86400
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/private.txt
    path: ./ruleset/loyalsoldier/private.yaml
  gfw:
    type: http
    format: yaml
    interval: 86400
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/gfw.txt
    path: ./ruleset/loyalsoldier/gfw.yaml
  tld-not-cn:
    type: http
    format: yaml
    interval: 86400
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/tld-not-cn.txt
    path: ./ruleset/loyalsoldier/tld-not-cn.yaml
  telegramcidr:
    type: http
    format: yaml
    interval: 86400
    behavior: ipcidr
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/telegramcidr.txt
    path: ./ruleset/loyalsoldier/telegramcidr.yaml
  cncidr:
    type: http
    format: yaml
    interval: 86400
    behavior: ipcidr
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt
    path: ./ruleset/loyalsoldier/cncidr.yaml
  lancidr:
    type: http
    format: yaml
    interval: 86400
    behavior: ipcidr
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt
    path: ./ruleset/loyalsoldier/lancidr.yaml
  YouTube:
    type: http
    format: yaml
    interval: 86400
    behavior: classical
    url: https://fastly.jsdelivr.net/gh/xiaolin-007/clash@main/rule/YouTube.txt
    path: ./ruleset/xiaolin-007/YouTube.yaml
  Netflix:
    type: http
    format: yaml
    interval: 86400
    behavior: classical
    url: https://fastly.jsdelivr.net/gh/xiaolin-007/clash@main/rule/Netflix.txt
    path: ./ruleset/xiaolin-007/Netflix.yaml
  Spotify:
    type: http
    format: yaml
    interval: 86400
    behavior: classical
    url: https://fastly.jsdelivr.net/gh/xiaolin-007/clash@main/rule/Spotify.txt
    path: ./ruleset/xiaolin-007/Spotify.yaml
  AI:
    type: http
    format: yaml
    interval: 86400
    behavior: classical
    url: https://fastly.jsdelivr.net/gh/xiaolin-007/clash@main/rule/AI.txt
    path: ./ruleset/xiaolin-007/AI.yaml
